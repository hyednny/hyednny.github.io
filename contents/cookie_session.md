---
date: '2024-01-22'
title: 'Cookie와 Session'
categories: ['Authentication']
summary: 'Cookie와 Session'
thumbnail: './cookie_session.png'
---

### HTTP의 프로토콜 특징

- Connectionless
  클라이언트가 서버에 요청을 했을 때, 그 요청에 맞는 응답을 보낸 후 연결을 끊는 처리방식입니다. </br>
  이로 인해 서버의 자원을 효율적으로 관리하고 수 많은 클라이언트의 요청에도 대응할 수 있습니다. </br>
  (HTTP 1.1버전에서 연결을 유지하고 재활용 하는 기능이 기본값으로 추가되었습니다. keep-alive값으로 변경 가능)

- Stateless
  통신의 상태를 저장하지 않으므로 어떤 클라이언트가 어떤 요청을 보냈는지 구분이 어렵기 때문에 또 다시 필요한 데이터들을 보내야합니다. </br>
  데이터 유지가 되지 않으면 매번 페이지를 이동할 때마다 로그인을 다시 하거나, 상품을 선택했는데 구매 페이지에서 선택한 상품의 정보가 없거나 하는 일들이 발생합니다. </br>
  이런 문제를 해겷하는 방법으로 세션(Session) 혹은 토큰(Token)이 사용됩니다.

### 🍪 쿠키 (Cookie)

- **쿠키 정의**</br>
  쿠키는 서버가 사용자의 웹 브라우저에 전송하는 작은 데이터 조각입니다. </br>
  브라우저는 그 데이터 조각들을 key-value형식의 문자열 형태로 저장하고 있다가 동일한 서버에 재 요청 시 저장된 데이터를 함께 전송합니다. </br></br></br>

- **쿠키 사용 목적**

  - 세션 관리 : 서버에 저장해야 할 데이터 관리
  - 개인 맞춤 데이터 : 테마 등과 같은 세팅값
  - 트래킹 : 사용자의 행동을 기록 및 분석

### 세션 (Session)

- **세션 정의**</br>
  세션은 일정 시간 동안 여러 페이지에 걸쳐 클라이언트의 상태를 유지시키는 기술입니다. </br>
  일정 시간은 웹 브라우저를 통해 웹 서버에 접속한 시점부터 웹 브라우저를 닫아 서버와 연결을 끝내는 시점입니다. </br>

- **세션 특징**

  - 웹 서버에 웹 컨테이너의 상태를 유지하기 위한 정보를 저장합니다.
  - 웹 서버에 저장되는 쿠키(세션 쿠키 seesion cookie)입니다.
  - 브라우저를 닫거나 서버에서 세션을 삭제했을 때만 삭제가 되기 때문에 쿠키보다 비교적 보안적으로 우수합니다.
  - 저장 데이터에 제한이 없습니다.

- **세션 사용 목적**
  사용자나 다른 누군가에게 노출되면 안되는 보안적으로 중요한 정보들을 서버 안에서 다루기 위해 사용합니다.

### 쿠키 vs 세션

- 저장 위치
  - 쿠키 : 클라이언트의 웹 브라우저가 지정하는 메모리 또는 하드디스크
  - 세션 : 서버의 메모리에 저장
- 만료 시점
  - 쿠키 : 저장할 때 expires 속성을 정의해 무효화시키면 삭제될 날짜 지정 가능
  - 세션 : 클라이언트가 로그아웃하거나 설정 시간동안 반응이 없으면 무효화되어 정확한 시점을 알 수 없습니다.
- 리소스
  - 쿠키 : 클라이언트에 저장되고 클라이언트의 메모리를 사용하기 때문에 서버 자원을 사용하지 않습니다.
  - 세션 : 서버에 저장되고 서버의 메모리로 로딩되기 때문에 세션이 생길 때마다 리소스를 차지합니다. </br>

세션이 쿠키에 비해 보안이 높지만 쿠키를 사용하는 이유는 세션은 서버에 저장되고 서버의 자원을 사용하기 때문에 서버 자원에 한계가 있고 속도가 느려질 수도 있습니다. </br>
따라서 자원관리 차원에서 쿠키와 세션을 적절한 요소 및 기능에 병행 사용하여 서버 자원의 낭비를 방지하고 웹 사이트의 속도를 높일 수 있습니다.

---

**참고**

- https://velog.io/@octo__/%EC%BF%A0%ED%82%A4Cookie-%EC%84%B8%EC%85%98Session
- https://developer.mozilla.org/ko/docs/Web/HTTP/Cookies
- https://velog.io/@ddangle/Session%EC%84%B8%EC%85%98%EA%B3%BC-Token%ED%86%A0%ED%81%B0%EC%9D%98-%EC%B0%A8%EC%9D%B4%EB%8A%94
- https://velog.io/@beneficial/Cookie%EB%9E%80-%EB%AC%B4%EC%97%87%EC%9D%B8%EA%B0%80
